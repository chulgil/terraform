[2025-07-18 17:52:11] Validating environment: dev
[2025-07-18 17:52:11] Starting deployment to dev environment...
[2025-07-18 17:52:11] Log file: /Users/r00360/Dev/devops/terraform/terraform-codes/logs/deploy_dev_20250718_175211.log
[2025-07-18 17:52:11] Starting Terraform Init...
[2025-07-18 17:52:11] Terraform Init: [0m[1mInitializing the backend...[0m
[2025-07-18 17:52:11] Terraform Init: [0m[1mInitializing modules...[0m
[2025-07-18 17:52:11] Terraform Init: [0m[1mInitializing provider plugins...[0m
[2025-07-18 17:52:11] Terraform Init: - Reusing previous version of hashicorp/aws from the dependency lock file
[2025-07-18 17:52:11] Terraform Init: - Reusing previous version of hashicorp/kubernetes from the dependency lock file
[2025-07-18 17:52:11] Terraform Init: - Using previously-installed hashicorp/aws v6.4.0
[2025-07-18 17:52:11] Terraform Init: - Using previously-installed hashicorp/kubernetes v2.37.1
[2025-07-18 17:52:11] Terraform Init: 
[2025-07-18 17:52:11] Terraform Init: [0m[1m[32mTerraform has been successfully initialized![0m[32m[0m
[2025-07-18 17:52:11] Terraform Init: [0m[32m
[2025-07-18 17:52:11] Terraform Init: You may now begin working with Terraform. Try running "terraform plan" to see
[2025-07-18 17:52:11] Terraform Init: any changes that are required for your infrastructure. All Terraform commands
[2025-07-18 17:52:11] Terraform Init: should now work.
[2025-07-18 17:52:11] Terraform Init: 
[2025-07-18 17:52:11] Terraform Init: If you ever set or change modules or backend configuration for Terraform,
[2025-07-18 17:52:11] Terraform Init: rerun this command to reinitialize your working directory. If you forget, other
[2025-07-18 17:52:11] Terraform Init: commands will detect it and remind you to do so if necessary.[0m
[2025-07-18 17:52:11] Terraform Init completed with status: 0
[2025-07-18 17:52:12] Terraform Init completed successfully.
[2025-07-18 17:52:12] Running terraform plan...
[0m[1mmodule.eks.data.aws_ssm_parameter.eks_ami: Reading...[0m[0m
[0m[1mmodule.vpc.aws_vpc.main: Refreshing state... [id=vpc-0aca504451b3bcb73][0m
[0m[1mmodule.eks.aws_iam_role.node: Refreshing state... [id=dev-eks-cluster-node-role][0m
[0m[1mmodule.eks.aws_iam_role.cluster: Refreshing state... [id=dev-eks-cluster-cluster-role][0m
[0m[1mmodule.iam.aws_iam_role.node: Refreshing state... [id=dev-eks-node-group-role][0m
[0m[1mmodule.iam.aws_iam_role.cluster: Refreshing state... [id=dev-eks-cluster-role][0m
[0m[1mmodule.vpc.aws_internet_gateway.main: Refreshing state... [id=igw-0e6079eeb53e6a4db][0m
[0m[1mmodule.vpc.aws_subnet.public[1]: Refreshing state... [id=subnet-01d2b1941ef3201b0][0m
[0m[1mmodule.vpc.aws_subnet.private[0]: Refreshing state... [id=subnet-08ebae8b7dc47213b][0m
[0m[1mmodule.vpc.aws_subnet.private[1]: Refreshing state... [id=subnet-0b06fe07e25a611e6][0m
[0m[1mmodule.vpc.aws_subnet.public[0]: Refreshing state... [id=subnet-0d7244348a72d51bc][0m
[0m[1mmodule.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy: Refreshing state... [id=dev-eks-cluster-role/arn:aws:iam::aws:policy/AmazonEKSClusterPolicy][0m
[0m[1mmodule.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSServicePolicy: Refreshing state... [id=dev-eks-cluster-role/arn:aws:iam::aws:policy/AmazonEKSServicePolicy][0m
[0m[1mmodule.iam.aws_iam_role_policy_attachment.node_AmazonEC2ContainerRegistryReadOnly: Refreshing state... [id=dev-eks-node-group-role/arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly][0m
[0m[1mmodule.iam.aws_iam_role_policy_attachment.node_AmazonEKS_CNI_Policy: Refreshing state... [id=dev-eks-node-group-role/arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy][0m
[0m[1mmodule.iam.aws_iam_role_policy_attachment.node_AmazonEKSWorkerNodePolicy: Refreshing state... [id=dev-eks-node-group-role/arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy][0m
[0m[1mmodule.eks.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy: Refreshing state... [id=dev-eks-cluster-cluster-role/arn:aws:iam::aws:policy/AmazonEKSClusterPolicy][0m
[0m[1mmodule.eks.aws_iam_role_policy_attachment.cluster_AmazonEKSServicePolicy: Refreshing state... [id=dev-eks-cluster-cluster-role/arn:aws:iam::aws:policy/AmazonEKSServicePolicy][0m
[0m[1mmodule.eks.aws_iam_role_policy_attachment.node_AmazonEKSWorkerNodePolicy: Refreshing state... [id=dev-eks-cluster-node-role/arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy][0m
[0m[1mmodule.eks.aws_iam_role_policy_attachment.node_AmazonEC2ContainerRegistryReadOnly: Refreshing state... [id=dev-eks-cluster-node-role/arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly][0m
[0m[1mmodule.eks.aws_iam_role_policy_attachment.node_AmazonEKS_CNI_Policy: Refreshing state... [id=dev-eks-cluster-node-role/arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy][0m
[0m[1mmodule.eks.aws_eks_cluster.main: Refreshing state... [id=dev-eks-cluster][0m
[0m[1mmodule.eks.data.aws_eks_cluster_auth.main: Reading...[0m[0m
[0m[1mmodule.eks.data.aws_eks_cluster_auth.main: Read complete after 0s [id=dev-eks-cluster][0m

Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  [32m+[0m create[0m

Terraform planned the following actions, but then encountered a problem:

[1m  # module.eks.aws_iam_role_policy_attachment.node_AmazonEC2RoleforSSM[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role_policy_attachment" "node_AmazonEC2RoleforSSM" {
      [32m+[0m[0m id         = (known after apply)
      [32m+[0m[0m policy_arn = "arn:aws:iam::aws:policy/service-role/AmazonEC2RoleforSSM"
      [32m+[0m[0m role       = "dev-eks-cluster-node-role"
    }

[1m  # module.eks.aws_iam_role_policy_attachment.node_AmazonSSMManagedInstanceCore[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role_policy_attachment" "node_AmazonSSMManagedInstanceCore" {
      [32m+[0m[0m id         = (known after apply)
      [32m+[0m[0m policy_arn = "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore"
      [32m+[0m[0m role       = "dev-eks-cluster-node-role"
    }

[1mPlan:[0m 2 to add, 0 to change, 0 to destroy.
[0m[2025-07-18 17:52:23] Deployment cancelled by user.
