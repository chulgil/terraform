# Terraform 프로젝트 가이드라인

## 1. 명령어 실행 규칙
- 모든 명령어는 명확한 시작과 끝을 표시해야 합니다.
- 명령어 실행 전에 수행할 작업을 간략히 설명합니다.
- 실행 후에는 반드시 결과를 확인하고 사용자에게 피드백을 제공합니다.
- 장시간 실행되는 명령어의 경우 백그라운드 실행을 제안합니다.

## 2. 코드 스타일
- 모든 Terraform 코드는 공식 스타일 가이드를 준수합니다.
- 변수명은 `snake_case`를 사용합니다.
- 리소스 이름은 `목적_유형_이름` 형식을 따릅니다 (예: `vpc_main`).

## 3. 모듈 구조
- 모든 인프라는 모듈화되어 있어야 합니다.
- 모듈은 단일 책임 원칙을 따릅니다.
- 환경별 변수는 `environments/{env}/` 하위에 위치시킵니다.

## 4. 상태 관리
- 원격 상태 저장소를 사용합니다 (S3 백엔드).
- 상태 잠금을 위해 DynamoDB를 사용합니다.
- 민감한 정보는 상태 파일에 저장하지 않습니다.

## 5. 보안
- AWS 자격 증명은 환경 변수나 AWS credentials 파일을 사용합니다.
- IAM 정책은 최소 권한 원칙을 따릅니다.
- 모든 리소스에는 적절한 태깅을 적용합니다.

## 6. 문서화
- 모든 모듈에는 README.md가 포함되어야 합니다.
- 변수와 출력은 문서화되어야 합니다.
- 예제 사용법을 제공합니다.

## 7. 테스트
- 모든 변경 사항은 테스트를 거쳐야 합니다.
- `terraform validate`와 `terraform plan`으로 검증합니다.
- 가능한 경우 테스트 자동화를 구현합니다.

## 8. 버전 관리
- Terraform 버전을 명시합니다.
- provider 버전을 고정합니다.
- 변경 사항은 의미 있는 커밋 메시지로 기록합니다.

## 9. 에러 처리
- 모든 스크립트는 `set -e`로 시작합니다.
- 오류 메시지는 명확하고 실행 가능해야 합니다.
- 실패한 명령은 재시도 메커니즘을 고려합니다.

## 10. 성능
- 대용량 구성을 모듈로 분할합니다.
- `-target` 플래그의 사용을 최소화합니다.
- 상태 파일을 자주 동기화합니다.
